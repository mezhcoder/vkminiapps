{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nimport { createScopedElement } from \"../../lib/jsxRuntime\";\nimport { Children } from 'react';\nimport { getClassName } from \"../../helpers/getClassName\";\nimport { classNames } from \"../../lib/classNames\";\nimport { usePlatform } from \"../../hooks/usePlatform\";\nimport { ANDROID, IOS, VKCOM } from \"../../lib/platform\";\nimport { Icon24Chevron, Icon24DismissSubstract, Icon24DismissDark, Icon24Cancel } from '@vkontakte/icons';\nimport Tappable from \"../Tappable/Tappable\";\nimport Headline from \"../Typography/Headline/Headline\";\nimport Caption from \"../Typography/Caption/Caption\";\nimport Text from \"../Typography/Text/Text\";\nimport { hasReactNode } from \"../../lib/utils\";\nimport Title from \"../Typography/Title/Title\";\n\nfunction renderHeader(_ref) {\n  var size = _ref.size,\n      header = _ref.header;\n\n  switch (size) {\n    case 's':\n      return createScopedElement(Headline, {\n        weight: \"medium\",\n        vkuiClass: \"Banner__header\"\n      }, header);\n\n    case 'm':\n      return createScopedElement(Title, {\n        level: \"2\",\n        weight: \"medium\",\n        vkuiClass: \"Banner__header\"\n      }, header);\n  }\n}\n\nfunction renderSubheader(_ref2) {\n  var size = _ref2.size,\n      subheader = _ref2.subheader;\n\n  switch (size) {\n    case 's':\n      return createScopedElement(Caption, {\n        level: \"1\",\n        weight: \"regular\",\n        vkuiClass: \"Banner__subheader\"\n      }, subheader);\n\n    case 'm':\n      return createScopedElement(Text, {\n        weight: \"regular\",\n        vkuiClass: \"Banner__subheader\"\n      }, subheader);\n  }\n}\n\nvar Banner = function Banner(props) {\n  var platform = usePlatform();\n\n  var mode = props.mode,\n      imageTheme = props.imageTheme,\n      size = props.size,\n      before = props.before,\n      asideMode = props.asideMode,\n      header = props.header,\n      subheader = props.subheader,\n      text = props.text,\n      children = props.children,\n      background = props.background,\n      actions = props.actions,\n      onDismiss = props.onDismiss,\n      restProps = _objectWithoutProperties(props, [\"mode\", \"imageTheme\", \"size\", \"before\", \"asideMode\", \"header\", \"subheader\", \"text\", \"children\", \"background\", \"actions\", \"onDismiss\"]);\n\n  var InnerComponent = asideMode === 'expand' ? Tappable : 'div';\n  var innerProps = asideMode === 'expand' ? {\n    activeMode: platform === IOS ? 'opacity' : 'background'\n  } : {};\n  return createScopedElement(\"div\", _extends({}, restProps, {\n    vkuiClass: classNames(getClassName('Banner', platform), \"Banner--md-\".concat(mode), \"Banner--sz-\".concat(size), {\n      'Banner--inverted': mode === 'image' && imageTheme === 'dark'\n    })\n  }), createScopedElement(InnerComponent, _extends({\n    vkuiClass: \"Banner__in\"\n  }, innerProps), mode === 'image' && background && createScopedElement(\"div\", {\n    vkuiClass: \"Banner__bg\"\n  }, background), before && createScopedElement(\"div\", {\n    vkuiClass: \"Banner__before\"\n  }, before), createScopedElement(\"div\", {\n    vkuiClass: \"Banner__content\"\n  }, hasReactNode(header) && renderHeader({\n    size: size,\n    header: header\n  }), hasReactNode(subheader) && renderSubheader({\n    size: size,\n    subheader: subheader\n  }), hasReactNode(text) && createScopedElement(Text, {\n    weight: \"regular\",\n    vkuiClass: \"Banner__text\"\n  }, text), hasReactNode(actions) && Children.count(actions) > 0 && createScopedElement(\"div\", {\n    vkuiClass: \"Banner__actions\"\n  }, actions)), asideMode === 'expand' && createScopedElement(\"div\", {\n    vkuiClass: \"Banner__expand\"\n  }, createScopedElement(Icon24Chevron, null)), asideMode === 'dismiss' && createScopedElement(\"div\", {\n    vkuiClass: \"Banner__dismiss\"\n  }, createScopedElement(\"div\", {\n    vkuiClass: \"Banner__dismissIcon\",\n    onClick: onDismiss\n  }, (platform === ANDROID || platform === VKCOM) && createScopedElement(Icon24Cancel, null), platform === IOS && (mode === 'image' ? createScopedElement(Icon24DismissDark, null) : createScopedElement(Icon24DismissSubstract, null))))));\n};\n\nBanner.defaultProps = {\n  mode: 'tint',\n  size: 's',\n  imageTheme: 'dark'\n};\nexport default Banner;","map":{"version":3,"sources":["../../../src/components/Banner/Banner.tsx"],"names":["size","header","subheader","Banner","platform","usePlatform","mode","imageTheme","before","asideMode","text","children","background","actions","onDismiss","restProps","props","InnerComponent","innerProps","activeMode","classNames","getClassName","hasReactNode","renderHeader","renderSubheader","Children"],"mappings":"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","sourcesContent":["import { Children, FunctionComponent, ReactNode, HTMLAttributes, MouseEventHandler } from 'react';\nimport { getClassName } from '../../helpers/getClassName';\nimport { classNames } from '../../lib/classNames';\nimport { usePlatform } from '../../hooks/usePlatform';\nimport { ANDROID, IOS, VKCOM } from '../../lib/platform';\nimport { Icon24Chevron, Icon24DismissSubstract, Icon24DismissDark, Icon24Cancel } from '@vkontakte/icons';\nimport Tappable from '../Tappable/Tappable';\nimport Headline from '../Typography/Headline/Headline';\nimport Caption from '../Typography/Caption/Caption';\nimport Text from '../Typography/Text/Text';\nimport { hasReactNode } from '../../lib/utils';\nimport Title from '../Typography/Title/Title';\n\nexport interface BannerProps extends HTMLAttributes<HTMLDivElement> {\n  /**\n   * Тип баннера.\n   */\n  mode?: 'tint' | 'image';\n  size?: 's' | 'm';\n  /**\n   * Тип действия в правой части баннера.\n   *\n   * - `dismiss` – отображается иконка крестика, при клике на неё сработает свойство `onDismiss`.\n   * - `expand` – отображается иконка шеврона, которая подразумевает, что при клике на баннер можно куда-то перейти.\n   */\n  asideMode?: 'dismiss' | 'expand';\n  /**\n   * Срабатывает при клике на иконку крестика при `asideMode=\"dismiss\"`.\n   */\n  onDismiss?: MouseEventHandler<HTMLDivElement>;\n  /**\n   * Содержимое, отображаемое в левой части баннера.\n   */\n  before?: ReactNode;\n  /**\n   * Заголовок. <br />\n   * При использовании этого свойства рекомендуется не указывать `text`.\n   */\n  header?: ReactNode;\n  /**\n   * Подзаголовок. <br />\n   * При использовании этого свойства рекомендуется не указывать `text`.\n   */\n  subheader?: ReactNode;\n  /**\n   * Текст баннера. <br />\n   * Это свойство следует использовать без указания `header` и `subheader`.\n   */\n  text?: ReactNode;\n  /**\n   * При использовании `mode=\"image\"`.\n   *\n   * - `light` – в качестве фона используется светлое изображение, цвет текста в баннере будет тёмным.\n   * - `dark` – в качестве фона используется тёмное изображение, цвет текста будет светлым.\n   */\n  imageTheme?: 'light' | 'dark';\n  /**\n   * При использовании `mode=\"image\"`.\n   *\n   * Элемент, который нужно стилизовать цветом и/или фоном. Этот элемент будет растянут на 100% ширины и высоты баннера.\n   */\n  background?: ReactNode;\n  /**\n   * Кнопки, отображаемые в баннере.\n   *\n   * - В режиме `tint` или в `image` со светлым фоном рекомендуется использовать только `<Button mode=\"primary\" />` или `<Button mode=\"tertiary\" hasHover={false} />`.\n   * - В режиме `image` с тёмным фоном – `<Button mode=\"overlay_primary\" />`.\n   */\n  actions?: ReactNode;\n}\n\nfunction renderHeader({ size, header }: Pick<BannerProps, 'size' | 'header'>) {\n  switch (size) {\n    case 's':\n      return <Headline weight=\"medium\" vkuiClass=\"Banner__header\">{header}</Headline>;\n    case 'm':\n      return <Title level=\"2\" weight=\"medium\" vkuiClass=\"Banner__header\">{header}</Title>;\n  }\n}\n\nfunction renderSubheader({ size, subheader }: Pick<BannerProps, 'size' | 'subheader'>) {\n  switch (size) {\n    case 's':\n      return <Caption level=\"1\" weight=\"regular\" vkuiClass=\"Banner__subheader\">{subheader}</Caption>;\n    case 'm':\n      return <Text weight=\"regular\" vkuiClass=\"Banner__subheader\">{subheader}</Text>;\n  }\n}\n\nconst Banner: FunctionComponent<BannerProps> = (props: BannerProps) => {\n  const platform = usePlatform();\n  const {\n    mode, imageTheme, size, before, asideMode, header, subheader, text, children, background, actions,\n    onDismiss,\n    ...restProps\n  } = props;\n\n  const InnerComponent = asideMode === 'expand' ? Tappable : 'div';\n  const innerProps = asideMode === 'expand' ? {\n    activeMode: platform === IOS ? 'opacity' : 'background',\n  } : {};\n\n  return (\n    <div\n      {...restProps}\n      vkuiClass={classNames(\n        getClassName('Banner', platform),\n        `Banner--md-${mode}`,\n        `Banner--sz-${size}`, {\n          'Banner--inverted': mode === 'image' && imageTheme === 'dark',\n        },\n      )}\n    >\n      <InnerComponent vkuiClass=\"Banner__in\" {...innerProps}>\n        {mode === 'image' && background &&\n        <div vkuiClass=\"Banner__bg\">\n          {background}\n        </div>\n        }\n\n        {before && <div vkuiClass=\"Banner__before\">{before}</div>}\n\n        <div vkuiClass=\"Banner__content\">\n          {hasReactNode(header) && renderHeader({ size, header })}\n          {hasReactNode(subheader) && renderSubheader({ size, subheader })}\n          {hasReactNode(text) && <Text weight=\"regular\" vkuiClass=\"Banner__text\">{text}</Text>}\n          {hasReactNode(actions) && Children.count(actions) > 0 &&\n          <div vkuiClass=\"Banner__actions\">{actions}</div>\n          }\n        </div>\n\n        {asideMode === 'expand' &&\n        <div vkuiClass=\"Banner__expand\">\n          <Icon24Chevron />\n        </div>\n        }\n\n        {asideMode === 'dismiss' &&\n        <div vkuiClass=\"Banner__dismiss\">\n          <div vkuiClass=\"Banner__dismissIcon\" onClick={onDismiss}>\n            {(platform === ANDROID || platform === VKCOM) && <Icon24Cancel />}\n            {platform === IOS && (mode === 'image' ? <Icon24DismissDark /> : <Icon24DismissSubstract />)}\n          </div>\n        </div>\n        }\n      </InnerComponent>\n    </div>\n  );\n};\n\nBanner.defaultProps = {\n  mode: 'tint',\n  size: 's',\n  imageTheme: 'dark',\n};\n\nexport default Banner;\n"]},"metadata":{},"sourceType":"module"}