{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nimport { createScopedElement } from \"../../lib/jsxRuntime\";\nimport { getClassName } from \"../../helpers/getClassName\";\nimport { classNames } from \"../../lib/classNames\";\nimport { usePlatform } from \"../../hooks/usePlatform\";\n\nvar Avatar = function Avatar(_ref) {\n  var src = _ref.src,\n      size = _ref.size,\n      shadow = _ref.shadow,\n      mode = _ref.mode,\n      className = _ref.className,\n      children = _ref.children,\n      getRootRef = _ref.getRootRef,\n      restProps = _objectWithoutProperties(_ref, [\"src\", \"size\", \"shadow\", \"mode\", \"className\", \"children\", \"getRootRef\"]);\n\n  var Component = src ? 'img' : 'div';\n  var platform = usePlatform();\n  var borderRadius;\n\n  switch (mode) {\n    case 'default':\n      borderRadius = '50%';\n      break;\n\n    case 'image':\n      size < 64 && (borderRadius = 4);\n      size >= 64 && size < 96 && (borderRadius = 6);\n      size >= 96 && (borderRadius = 8);\n      break;\n\n    case 'app':\n      size <= 40 && (borderRadius = 8);\n      size > 40 && size < 56 && (borderRadius = 10);\n      size >= 56 && size < 64 && (borderRadius = 12);\n      size >= 64 && size < 84 && (borderRadius = 16);\n      size >= 84 && (borderRadius = 18);\n      break;\n  }\n\n  return createScopedElement(\"div\", {\n    vkuiClass: classNames(getClassName('Avatar', platform), \"Avatar--type-\".concat(mode), \"Avatar--sz-\".concat(size)),\n    className: className,\n    ref: getRootRef\n  }, createScopedElement(\"div\", {\n    vkuiClass: \"Avatar__in\",\n    style: {\n      width: size,\n      height: size,\n      borderRadius: borderRadius\n    }\n  }, createScopedElement(Component, _extends({}, restProps, {\n    vkuiClass: \"Avatar__img\",\n    src: src\n  })), shadow && createScopedElement(\"span\", {\n    vkuiClass: \"Avatar__shadow\"\n  }), children && createScopedElement(\"div\", {\n    vkuiClass: \"Avatar__children\"\n  }, children)));\n};\n\nAvatar.defaultProps = {\n  size: 48,\n  mode: 'default',\n  shadow: true\n};\nexport default Avatar;","map":{"version":3,"sources":["../../../src/components/Avatar/Avatar.tsx"],"names":["Avatar","src","size","shadow","mode","className","children","getRootRef","restProps","Component","platform","usePlatform","borderRadius","classNames","getClassName","width","height"],"mappings":"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","sourcesContent":["import { FunctionComponent, ImgHTMLAttributes } from 'react';\nimport { getClassName } from '../../helpers/getClassName';\nimport { classNames } from '../../lib/classNames';\nimport { usePlatform } from '../../hooks/usePlatform';\nimport { HasRootRef } from '../../types';\n\nexport interface AvatarProps extends ImgHTMLAttributes<HTMLElement>, HasRootRef<HTMLDivElement> {\n  /**\n   * Рекомендуемый сет значений: 96 | 88 | 80 | 72 | 64 | 56 | 48 | 44 | 40 | 36 | 32 | 28 | 24\n   */\n  size?: number;\n  src?: string;\n  mode?: 'default' | 'image' | 'app';\n  shadow?: boolean;\n}\n\nconst Avatar: FunctionComponent<AvatarProps> = ({\n  src,\n  size,\n  shadow,\n  mode,\n  className,\n  children,\n  getRootRef,\n  ...restProps\n}: AvatarProps) => {\n  const Component = src ? 'img' : 'div';\n  const platform = usePlatform();\n  let borderRadius;\n\n  switch (mode) {\n    case 'default':\n      borderRadius = '50%';\n      break;\n    case 'image':\n      size < 64 && (borderRadius = 4);\n      size >= 64 && size < 96 && (borderRadius = 6);\n      size >= 96 && (borderRadius = 8);\n      break;\n    case 'app':\n      size <= 40 && (borderRadius = 8);\n      size > 40 && size < 56 && (borderRadius = 10);\n      size >= 56 && size < 64 && (borderRadius = 12);\n      size >= 64 && size < 84 && (borderRadius = 16);\n      size >= 84 && (borderRadius = 18);\n      break;\n  }\n\n  return (\n    <div\n      vkuiClass={classNames(getClassName('Avatar', platform), `Avatar--type-${mode}`, `Avatar--sz-${size}`)}\n      className={className}\n      ref={getRootRef}\n    >\n      <div vkuiClass=\"Avatar__in\" style={{ width: size, height: size, borderRadius }}>\n        <Component\n          {...restProps}\n          vkuiClass=\"Avatar__img\"\n          src={src}\n        />\n        {shadow && <span vkuiClass=\"Avatar__shadow\" />}\n        {children && <div vkuiClass=\"Avatar__children\">{children}</div>}\n      </div>\n    </div>\n  );\n};\n\nAvatar.defaultProps = {\n  size: 48,\n  mode: 'default',\n  shadow: true,\n};\n\nexport default Avatar;\n"]},"metadata":{},"sourceType":"module"}