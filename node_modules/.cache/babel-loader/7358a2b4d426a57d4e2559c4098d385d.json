{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\nimport { createScopedElement } from \"./jsxRuntime\";\nimport { createContext, useContext } from 'react';\nimport { canUseDOM } from '@vkontakte/vkjs/lib/dom';\nexport { canUseDOM, canUseEventListeners, onDOMLoaded } from '@vkontakte/vkjs/lib/dom';\nexport var getDOM = function getDOM() {\n  return {\n    window: canUseDOM ? window : null,\n    document: canUseDOM ? document : null\n  };\n};\nexport var DOMContext = /*#__PURE__*/createContext(getDOM());\nexport var useDOM = function useDOM() {\n  var dom = useContext(DOMContext);\n  return {\n    window: dom.window || (canUseDOM ? window : null),\n    document: dom.document || (canUseDOM ? document : null)\n  };\n};\nexport function withDOM(Component) {\n  function WithDOM(props) {\n    var dom = useDOM();\n    return createScopedElement(Component, _extends({}, props, dom));\n  }\n\n  return WithDOM;\n}\nexport function blurActiveElement(document) {\n  if (document && document.activeElement) {\n    document.activeElement.blur();\n  }\n}","map":{"version":3,"sources":["../../src/lib/dom.tsx"],"names":["getDOM","window","canUseDOM","document","DOMContext","createContext","useDOM","dom","useContext"],"mappings":";;AAAA,SAAA,aAAA,EAAA,UAAA,QAAA,OAAA;AACA,SAAA,SAAA,QAAA,yBAAA;AACA,SAAA,SAAA,EAAA,oBAAA,EAAA,WAAA,QAAA,yBAAA;AAeA,OAAO,IAAMA,MAAM,GAAG,SAATA,MAAS,GAAA;AAAA,SAAO;AAC3BC,IAAAA,MAAM,EAAEC,SAAS,GAAA,MAAA,GADU,IAAA;AAE3BC,IAAAA,QAAQ,EAAED,SAAS,GAAA,QAAA,GAAc;AAFN,GAAP;AAAf,CAAA;AAKP,OAAO,IAAME,UAAU,GAAA,aAAGC,aAAa,CAAsBL,MAAtD,EAAgC,CAAhC;AAEP,OAAO,IAAMM,MAAM,GAAG,SAATA,MAAS,GAAM;AAC1B,MAAMC,GAAG,GAAGC,UAAU,CAAtB,UAAsB,CAAtB;AACA,SAAO;AACLP,IAAAA,MAAM,EAAEM,GAAG,CAAHA,MAAAA,KAAeL,SAAS,GAAA,MAAA,GAD3B,IACGK,CADH;AAELJ,IAAAA,QAAQ,EAAEI,GAAG,CAAHA,QAAAA,KAAiBL,SAAS,GAAA,QAAA,GAA1BK,IAAAA;AAFL,GAAP;AAFK,CAAA;AAQP,OAAO,SAAA,OAAA,CAAA,SAAA,EAA0F;AAC/F,WAAA,OAAA,CAAA,KAAA,EAA+B;AAC7B,QAAMA,GAAG,GAAGD,MAAZ,EAAA;AACA,WAAO,mBAAA,CAAA,SAAA,EAAA,QAAA,CAAA,EAAA,EAAA,KAAA,EAAP,GAAO,CAAA,CAAP;AACD;;AACD,SAAA,OAAA;AACD;AAED,OAAO,SAAA,iBAAA,CAAA,QAAA,EAA2D;AAChE,MAAIH,QAAQ,IAAIA,QAAQ,CAAxB,aAAA,EAAwC;AACrCA,IAAAA,QAAQ,CAAT,aAACA,CAAD,IAACA;AACF;AACF","sourcesContent":["import { createContext, useContext, ComponentType } from 'react';\nimport { canUseDOM } from '@vkontakte/vkjs/lib/dom';\nexport { canUseDOM, canUseEventListeners, onDOMLoaded } from '@vkontakte/vkjs/lib/dom';\n\nexport interface DOMContextInterface {\n  /**\n   * @ignore\n   */\n  window?: Window;\n  /**\n   * @ignore\n   */\n  document?: Document;\n}\n\nexport type DOMProps = DOMContextInterface;\n\nexport const getDOM = () => ({\n  window: canUseDOM ? window : null,\n  document: canUseDOM ? document : null,\n});\n\nexport const DOMContext = createContext<DOMContextInterface>(getDOM());\n\nexport const useDOM = () => {\n  const dom = useContext(DOMContext);\n  return {\n    window: dom.window || (canUseDOM ? window : null),\n    document: dom.document || (canUseDOM ? document : null),\n  };\n};\n\nexport function withDOM<Props>(Component: ComponentType<Props & DOMProps>): ComponentType<Props> {\n  function WithDOM(props: Props) {\n    const dom = useDOM();\n    return <Component {...props} {...dom} />;\n  }\n  return WithDOM;\n}\n\nexport function blurActiveElement(document: Document | undefined) {\n  if (document && document.activeElement) {\n    (document.activeElement as HTMLElement).blur();\n  }\n}\n"]},"metadata":{},"sourceType":"module"}