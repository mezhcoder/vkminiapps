{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nimport { createScopedElement } from \"../../lib/jsxRuntime\";\nimport { useEffect } from 'react';\nimport { withAdaptivity, ViewWidth } from \"../../hoc/withAdaptivity\";\nimport { AppRootPortal } from \"../AppRoot/AppRootPortal\";\nimport { blurActiveElement, useDOM } from \"../../lib/dom\";\nexport var PopoutRootComponent = function PopoutRootComponent(props) {\n  var popout = props.popout,\n      modal = props.modal,\n      viewWidth = props.viewWidth,\n      children = props.children,\n      getRootRef = props.getRootRef,\n      restProps = _objectWithoutProperties(props, [\"popout\", \"modal\", \"viewWidth\", \"children\", \"getRootRef\"]);\n\n  var _useDOM = useDOM(),\n      document = _useDOM.document;\n\n  var isDesktop = viewWidth >= ViewWidth.TABLET;\n  useEffect(function () {\n    popout && blurActiveElement(document);\n  }, [!!popout]);\n  return createScopedElement(\"div\", _extends({}, restProps, {\n    vkuiClass: \"PopoutRoot\",\n    ref: getRootRef\n  }), children, createScopedElement(AppRootPortal, null, !!popout && createScopedElement(\"div\", {\n    vkuiClass: isDesktop ? 'PopoutRoot--absolute' : 'PopoutRoot__popout'\n  }, popout), !!modal && createScopedElement(\"div\", {\n    vkuiClass: \"PopoutRoot__modal\"\n  }, modal)));\n};\nPopoutRootComponent.displayName = 'PopoutRoot';\nexport var PopoutRoot = withAdaptivity(PopoutRootComponent, {\n  viewWidth: true\n});","map":{"version":3,"sources":["../../../src/components/PopoutRoot/PopoutRoot.tsx"],"names":["PopoutRootComponent","popout","modal","viewWidth","children","getRootRef","restProps","props","document","useDOM","isDesktop","ViewWidth","useEffect","blurActiveElement","PopoutRoot","withAdaptivity"],"mappings":";;;AAAA,SAAA,SAAA,QAAA,OAAA;AAEA,SAAA,cAAA,EAAA,SAAA,QAAA,0BAAA;AACA,SAAA,aAAA,QAAA,0BAAA;AACA,SAAA,iBAAA,EAAA,MAAA,QAAA,eAAA;AAOA,OAAO,IAAMA,mBAAwC,GAAG,SAA3CA,mBAA2C,CAAA,KAAA,EAA4B;AAAA,MAC1EC,MAD0E,GACTM,KADS,CAAA,MAAA;AAAA,MAClEL,KADkE,GACTK,KADS,CAAA,KAAA;AAAA,MAC3DJ,SAD2D,GACTI,KADS,CAAA,SAAA;AAAA,MAChDH,QADgD,GACTG,KADS,CAAA,QAAA;AAAA,MACtCF,UADsC,GACTE,KADS,CAAA,UAAA;AAAA,MACvBD,SADuB,GAAA,wBAAA,CAAA,KAAA,EAAA,CAAA,QAAA,EAAA,OAAA,EAAA,WAAA,EAAA,UAAA,EAAA,YAAA,CAAA,CAAA;;AAAA,MAAA,OAAA,GAE7DG,MAF6D,EAAA;AAAA,MAE1ED,QAF0E,GAAA,OAAA,CAAA,QAAA;;AAIlF,MAAME,SAAS,GAAGP,SAAS,IAAIQ,SAAS,CAAxC,MAAA;AAEAC,EAAAA,SAAS,CAAC,YAAM;AACdX,IAAAA,MAAM,IAAIY,iBAAiB,CAA3BZ,QAA2B,CAA3BA;AADO,GAAA,EAEN,CAAC,CAAC,CAFLW,MAEG,CAFM,CAATA;AAIA,SACE,mBAAA,CAAA,KAAA,EAAA,QAAA,CAAA,EAAA,EAAA,SAAA,EAAA;AAEE,IAAA,SAAS,EAFX,YAAA;AAGE,IAAA,GAAG,EAAEP;AAHP,GAAA,CAAA,EAAA,QAAA,EAME,mBAAA,CAAA,aAAA,EAAA,IAAA,EACG,CAAC,CAAD,MAAA,IAAY,mBAAA,CAAA,KAAA,EAAA;AAAK,IAAA,SAAS,EAAEK,SAAS,GAAA,sBAAA,GAA4B;AAArD,GAAA,EADf,MACe,CADf,EAEG,CAAC,CAAD,KAAA,IAAW,mBAAA,CAAA,KAAA,EAAA;AAAK,IAAA,SAAS,EAAC;AAAf,GAAA,EATlB,KASkB,CAFd,CANF,CADF;AAVK,CAAA;AAyBPV,mBAAmB,CAAnBA,WAAAA,GAAAA,YAAAA;AAEA,OAAO,IAAMc,UAAU,GAAGC,cAAc,CAAA,mBAAA,EAAsB;AAC5DZ,EAAAA,SAAS,EAAE;AADiD,CAAtB,CAAjC","sourcesContent":["import { FC, HTMLAttributes, ReactNode, useEffect } from 'react';\nimport { HasRootRef } from '../../types';\nimport { withAdaptivity, ViewWidth, AdaptivityProps } from '../../hoc/withAdaptivity';\nimport { AppRootPortal } from '../AppRoot/AppRootPortal';\nimport { blurActiveElement, useDOM } from '../../lib/dom';\n\nexport interface PopoutRootProps extends HTMLAttributes<HTMLDivElement>, AdaptivityProps, HasRootRef<HTMLDivElement> {\n  popout?: ReactNode;\n  modal?: ReactNode;\n}\n\nexport const PopoutRootComponent: FC<PopoutRootProps> = (props: PopoutRootProps) => {\n  const { popout, modal, viewWidth, children, getRootRef, ...restProps } = props;\n  const { document } = useDOM();\n\n  const isDesktop = viewWidth >= ViewWidth.TABLET;\n\n  useEffect(() => {\n    popout && blurActiveElement(document);\n  }, [!!popout]);\n\n  return (\n    <div\n      {...restProps}\n      vkuiClass=\"PopoutRoot\"\n      ref={getRootRef}\n    >\n      {children}\n      <AppRootPortal>\n        {!!popout && <div vkuiClass={isDesktop ? 'PopoutRoot--absolute' : 'PopoutRoot__popout'}>{popout}</div>}\n        {!!modal && <div vkuiClass=\"PopoutRoot__modal\">{modal}</div>}\n      </AppRootPortal>\n    </div>\n  );\n};\n\nPopoutRootComponent.displayName = 'PopoutRoot';\n\nexport const PopoutRoot = withAdaptivity(PopoutRootComponent, {\n  viewWidth: true,\n});\n"]},"metadata":{},"sourceType":"module"}