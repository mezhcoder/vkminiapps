{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nimport { createScopedElement } from \"../../lib/jsxRuntime\";\nimport { useContext } from 'react';\nimport PanelHeaderButton from \"../PanelHeaderButton/PanelHeaderButton\";\nimport { getClassName } from \"../../helpers/getClassName\";\nimport { classNames } from \"../../lib/classNames\";\nimport { Icon24Dismiss } from '@vkontakte/icons';\nimport { IOS } from \"../../lib/platform\";\nimport { hasReactNode } from \"../../lib/utils\";\nimport { withPlatform } from \"../../hoc/withPlatform\";\nimport { withAdaptivity, ViewHeight, ViewWidth } from \"../../hoc/withAdaptivity\";\nimport Subhead from \"../Typography/Subhead/Subhead\";\nimport Title from \"../Typography/Title/Title\";\nimport ModalDismissButton from \"../ModalDismissButton/ModalDismissButton\";\nimport ModalRootContext, { useModalRegistry } from \"../ModalRoot/ModalRootContext\";\nimport { ModalType } from \"../ModalRoot/types\";\nimport { getNavId } from \"../../lib/getNavId\";\n\nvar ModalCard = function ModalCard(props) {\n  var icon = props.icon,\n      header = props.header,\n      subheader = props.subheader,\n      children = props.children,\n      actions = props.actions,\n      actionsLayout = props.actionsLayout,\n      onClose = props.onClose,\n      platform = props.platform,\n      viewWidth = props.viewWidth,\n      viewHeight = props.viewHeight,\n      hasMouse = props.hasMouse,\n      nav = props.nav,\n      restProps = _objectWithoutProperties(props, [\"icon\", \"header\", \"subheader\", \"children\", \"actions\", \"actionsLayout\", \"onClose\", \"platform\", \"viewWidth\", \"viewHeight\", \"hasMouse\", \"nav\"]);\n\n  var isDesktop = viewWidth >= ViewWidth.SMALL_TABLET && (hasMouse || viewHeight >= ViewHeight.MEDIUM);\n  var canShowCloseBtn = viewWidth >= ViewWidth.SMALL_TABLET;\n  var canShowCloseBtnIos = platform === IOS && !canShowCloseBtn;\n  var modalContext = useContext(ModalRootContext);\n\n  var _useModalRegistry = useModalRegistry(getNavId(props), ModalType.CARD),\n      refs = _useModalRegistry.refs;\n\n  return createScopedElement(\"div\", _extends({}, restProps, {\n    vkuiClass: classNames(getClassName('ModalCard', platform), {\n      'ModalCard--desktop': isDesktop\n    })\n  }), createScopedElement(\"div\", {\n    vkuiClass: \"ModalCard__in\",\n    ref: refs.innerElement\n  }, createScopedElement(\"div\", {\n    vkuiClass: \"ModalCard__container\"\n  }, hasReactNode(icon) && createScopedElement(\"div\", {\n    vkuiClass: \"ModalCard__icon\"\n  }, icon), hasReactNode(header) && createScopedElement(Title, {\n    level: \"2\",\n    weight: \"semibold\",\n    vkuiClass: \"ModalCard__header\"\n  }, header), hasReactNode(subheader) && createScopedElement(Subhead, {\n    weight: \"regular\",\n    vkuiClass: \"ModalCard__subheader\"\n  }, subheader), children, hasReactNode(actions) && createScopedElement(\"div\", {\n    vkuiClass: classNames('ModalCard__actions', {\n      'ModalCard__actions--v': actionsLayout === 'vertical'\n    })\n  }, actions), canShowCloseBtn && createScopedElement(ModalDismissButton, {\n    onClick: onClose || modalContext.onClose\n  }), canShowCloseBtnIos && createScopedElement(PanelHeaderButton, {\n    vkuiClass: \"ModalCard__dismiss\",\n    onClick: onClose || modalContext.onClose\n  }, createScopedElement(Icon24Dismiss, null)))));\n};\n\nModalCard.defaultProps = {\n  actionsLayout: 'horizontal'\n};\nexport default withAdaptivity(withPlatform(ModalCard), {\n  viewWidth: true,\n  viewHeight: true,\n  hasMouse: true\n});","map":{"version":3,"sources":["../../../src/components/ModalCard/ModalCard.tsx"],"names":["ModalCard","icon","header","subheader","children","actions","actionsLayout","onClose","platform","viewWidth","viewHeight","hasMouse","nav","restProps","props","isDesktop","ViewWidth","ViewHeight","canShowCloseBtn","canShowCloseBtnIos","modalContext","useContext","refs","useModalRegistry","getNavId","ModalType","classNames","getClassName","innerElement","hasReactNode","withAdaptivity","withPlatform"],"mappings":"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","sourcesContent":["import { HTMLAttributes, ReactNode, FC, useContext } from 'react';\nimport PanelHeaderButton from '../PanelHeaderButton/PanelHeaderButton';\nimport { getClassName } from '../../helpers/getClassName';\nimport { classNames } from '../../lib/classNames';\nimport { Icon24Dismiss } from '@vkontakte/icons';\nimport { IOS } from '../../lib/platform';\nimport { hasReactNode } from '../../lib/utils';\nimport { withPlatform } from '../../hoc/withPlatform';\nimport { HasPlatform } from '../../types';\nimport { withAdaptivity, AdaptivityProps, ViewHeight, ViewWidth } from '../../hoc/withAdaptivity';\nimport Subhead from '../Typography/Subhead/Subhead';\nimport Title from '../Typography/Title/Title';\nimport ModalDismissButton from '../ModalDismissButton/ModalDismissButton';\nimport ModalRootContext, { useModalRegistry } from '../ModalRoot/ModalRootContext';\nimport { ModalType } from '../ModalRoot/types';\nimport { getNavId, NavIdProps } from '../../lib/getNavId';\n\nexport interface ModalCardProps extends HTMLAttributes<HTMLElement>, HasPlatform, AdaptivityProps, NavIdProps {\n  /**\n   * Иконка.\n   *\n   * Может быть компонентом иконки, например, `<Icon56MoneyTransferOutline />`, или `<Avatar size={72} src=\"\" />`\n   */\n  icon?: ReactNode;\n\n  /**\n   * Заголовок карточки\n   */\n  header?: ReactNode;\n\n  /**\n   * Подзаголовок\n   */\n  subheader?: ReactNode;\n\n  /**\n   * Кнопки-действия.\n   *\n   * Рекомендуется использовать `<Button size=\"l\" mode=\"primary\" />` или `<Button size=\"l\" mode=\"secondary\" />`\n   */\n  actions?: ReactNode;\n\n  /**\n   * Тип отображения кнопок: вертикальный или горизонтальный\n   */\n  actionsLayout?: 'vertical' | 'horizontal';\n\n  /**\n   * Будет вызван при закрытии карточки жестом\n   */\n  onClose?: VoidFunction;\n}\n\nconst ModalCard: FC<ModalCardProps> = (props: ModalCardProps) => {\n  const {\n    icon,\n    header,\n    subheader,\n    children,\n    actions,\n    actionsLayout,\n    onClose,\n    platform,\n    viewWidth,\n    viewHeight,\n    hasMouse,\n    nav,\n    ...restProps\n  } = props;\n\n  const isDesktop = viewWidth >= ViewWidth.SMALL_TABLET && (hasMouse || viewHeight >= ViewHeight.MEDIUM);\n  const canShowCloseBtn = viewWidth >= ViewWidth.SMALL_TABLET;\n  const canShowCloseBtnIos = platform === IOS && !canShowCloseBtn;\n\n  const modalContext = useContext(ModalRootContext);\n  const { refs } = useModalRegistry(getNavId(props), ModalType.CARD);\n\n  return (\n    <div\n      {...restProps}\n      vkuiClass={classNames(getClassName('ModalCard', platform), {\n        'ModalCard--desktop': isDesktop,\n      })}\n    >\n      <div vkuiClass=\"ModalCard__in\" ref={refs.innerElement}>\n        <div vkuiClass=\"ModalCard__container\">\n          {hasReactNode(icon) && <div vkuiClass=\"ModalCard__icon\">{icon}</div>}\n          {hasReactNode(header) && <Title level=\"2\" weight=\"semibold\" vkuiClass=\"ModalCard__header\">{header}</Title>}\n          {hasReactNode(subheader) && <Subhead weight=\"regular\" vkuiClass=\"ModalCard__subheader\">{subheader}</Subhead>}\n\n          {children}\n\n          {hasReactNode(actions) &&\n          <div vkuiClass={classNames('ModalCard__actions', {\n            'ModalCard__actions--v': actionsLayout === 'vertical',\n          })}>\n            {actions}\n          </div>\n          }\n\n          {canShowCloseBtn && <ModalDismissButton onClick={onClose || modalContext.onClose} />}\n          {canShowCloseBtnIos &&\n          <PanelHeaderButton vkuiClass=\"ModalCard__dismiss\" onClick={onClose || modalContext.onClose}>\n            <Icon24Dismiss />\n          </PanelHeaderButton>\n          }\n        </div>\n      </div>\n    </div>\n  );\n};\n\nModalCard.defaultProps = {\n  actionsLayout: 'horizontal',\n};\n\nexport default withAdaptivity(withPlatform(ModalCard), {\n  viewWidth: true,\n  viewHeight: true,\n  hasMouse: true,\n});\n"]},"metadata":{},"sourceType":"module"}