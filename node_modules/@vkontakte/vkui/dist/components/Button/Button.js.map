{"version":3,"sources":["../../../src/components/Button/Button.tsx"],"names":["getClassName","classNames","Tappable","Title","Text","Subhead","Caption","usePlatform","SizeType","withAdaptivity","Platform","VKCOM","getContent","size","children","sizeY","platform","COMPACT","IOS","Button","props","mode","stretched","align","before","after","getRootRef","Component","restProps","hasIcons","Boolean","href","defaultProps","stopPropagation"],"mappings":"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","sourcesContent":["import { FunctionComponent, ReactNode } from 'react';\nimport { getClassName } from '../../helpers/getClassName';\nimport { classNames } from '../../lib/classNames';\nimport Tappable, { TappableProps } from '../Tappable/Tappable';\nimport Title from '../Typography/Title/Title';\nimport Text from '../Typography/Text/Text';\nimport Subhead from '../Typography/Subhead/Subhead';\nimport Caption from '../Typography/Caption/Caption';\nimport { HasAlign } from '../../types';\nimport { usePlatform } from '../../hooks/usePlatform';\nimport { AdaptivityProps, SizeType, withAdaptivity } from '../../hoc/withAdaptivity';\nimport { Platform, VKCOM } from '../../lib/platform';\n\nexport interface VKUIButtonProps extends HasAlign {\n  mode?: 'primary' | 'secondary' | 'tertiary' | 'outline' | 'commerce' | 'destructive' | 'overlay_primary' | 'overlay_secondary' | 'overlay_outline';\n  size?: 's' | 'm' | 'l';\n  stretched?: boolean;\n  before?: ReactNode;\n  after?: ReactNode;\n}\n\nexport interface ButtonProps extends Omit<TappableProps, 'size'>, VKUIButtonProps {}\n\nconst getContent = (size: ButtonProps['size'], children: ButtonProps['children'], sizeY: AdaptivityProps['sizeY'], platform: Platform) => {\n  switch (size) {\n    case 'l':\n      return (\n        sizeY === SizeType.COMPACT ?\n          <Text weight=\"medium\" vkuiClass=\"Button__content\">{children}</Text>\n          :\n          <Title level=\"3\" weight=\"medium\" Component=\"div\" vkuiClass=\"Button__content\">\n            {children}\n          </Title>\n      );\n    case 'm':\n      return (\n        sizeY === SizeType.COMPACT ?\n          <Subhead weight={platform === VKCOM ? 'regular' : 'medium'} vkuiClass=\"Button__content\" Component=\"div\">\n            {children}\n          </Subhead>\n          :\n          <Text weight=\"medium\" vkuiClass=\"Button__content\">\n            {children}\n          </Text>\n      );\n    case 's':\n    default:\n      if (platform === Platform.IOS) {\n        return <Subhead weight=\"medium\" vkuiClass=\"Button__content\">{children}</Subhead>;\n      } else if (platform === Platform.VKCOM) {\n        return <Caption level=\"1\" weight=\"regular\" vkuiClass=\"Button__content\">{children}</Caption>;\n      } else {\n        return sizeY === SizeType.COMPACT ?\n          <Caption level=\"1\" weight=\"medium\" vkuiClass=\"Button__content\">{children}</Caption> :\n          <Subhead weight=\"medium\" vkuiClass=\"Button__content\">{children}</Subhead>;\n      }\n  }\n};\n\nconst Button: FunctionComponent<ButtonProps> = (props: ButtonProps) => {\n  const platform = usePlatform();\n  const { size, mode, stretched, align, children, before, after, getRootRef, Component, sizeY, ...restProps } = props;\n  const hasIcons = Boolean(before || after);\n\n  return <Tappable {...restProps}\n    vkuiClass={\n      classNames(\n        getClassName('Button', platform),\n        `Button--sz-${size}`,\n        `Button--lvl-${mode}`,\n        `Button--aln-${align}`,\n        `Button--sizeY-${sizeY}`,\n        {\n          ['Button--str']: stretched,\n          ['Button--with-icon']: hasIcons,\n        },\n      )\n    }\n    getRootRef={getRootRef}\n    Component={restProps.href ? 'a' : Component}\n    activeMode=\"opacity\"\n  >\n    <div vkuiClass=\"Button__in\">\n      {before && <div vkuiClass=\"Button__before\">{before}</div>}\n      {children && getContent(size, children, sizeY, platform)}\n      {after && <div vkuiClass=\"Button__after\">{after}</div>}\n    </div>\n  </Tappable>;\n};\n\nButton.defaultProps = {\n  mode: 'primary',\n  Component: 'button',\n  align: 'center',\n  size: 's',\n  stretched: false,\n  stopPropagation: true,\n};\n\nexport default withAdaptivity(Button, {\n  sizeY: true,\n});\n"],"file":"Button.js"}