{"version":3,"sources":["../../../src/components/Header/Header.tsx"],"names":["Fragment","getClassName","classNames","usePlatform","hasReactNode","isPrimitiveReactNode","Platform","Headline","Caption","Title","Text","Subhead","renderChildren","children","platform","mode","ANDROID","IOS","VKCOM","renderAside","aside","Header","subtitle","indicator","getRootRef","multiline","restProps","baseClassNames","defaultProps"],"mappings":"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","sourcesContent":["import { FunctionComponent, HTMLAttributes, ReactNode, Fragment } from 'react';\nimport { getClassName } from '../../helpers/getClassName';\nimport { classNames } from '../../lib/classNames';\nimport { usePlatform } from '../../hooks/usePlatform';\nimport { HasPlatform, HasRootRef } from '../../types';\nimport { hasReactNode, isPrimitiveReactNode } from '../../lib/utils';\nimport { Platform, PlatformType } from '../../lib/platform';\nimport Headline from '../Typography/Headline/Headline';\nimport Caption from '../Typography/Caption/Caption';\nimport Title from '../Typography/Title/Title';\nimport Text from '../Typography/Text/Text';\nimport Subhead from '../Typography/Subhead/Subhead';\n\nexport interface HeaderProps extends HTMLAttributes<HTMLDivElement>, HasRootRef<HTMLDivElement> {\n  mode?: 'primary' | 'secondary' | 'tertiary';\n  subtitle?: ReactNode;\n  /**\n   * Допускаются иконки, текст, Link\n   */\n  aside?: ReactNode;\n  /**\n   * Допускаются текст, Indicator\n   */\n  indicator?: ReactNode;\n  multiline?: boolean;\n}\n\nfunction renderChildren({ children, platform, mode }: Pick<HeaderProps, 'children' | 'mode'> & HasPlatform) {\n  switch (platform) {\n    case Platform.ANDROID:\n      switch (mode) {\n        case 'primary':\n          return <Headline vkuiClass=\"Header__content\" weight=\"medium\">{children}</Headline>;\n        case 'secondary':\n          return <Caption vkuiClass=\"Header__content\" level=\"1\" weight=\"medium\" caps>{children}</Caption>;\n        case 'tertiary':\n          return <Headline vkuiClass=\"Header__content\" weight=\"medium\">{children}</Headline>;\n      }\n      break;\n    case Platform.IOS:\n      switch (mode) {\n        case 'primary':\n        case 'tertiary':\n          return <Title vkuiClass=\"Header__content\" weight=\"semibold\" level=\"3\">{children}</Title>;\n        case 'secondary':\n          return <Caption vkuiClass=\"Header__content\" level=\"1\" weight=\"semibold\" caps>{children}</Caption>;\n      }\n      break;\n    case Platform.VKCOM:\n      switch (mode) {\n        case 'primary':\n          return <Headline vkuiClass=\"Header__content\" weight=\"regular\">{children}</Headline>;\n        case 'secondary':\n        case 'tertiary':\n          return <Caption vkuiClass=\"Header__content\" level=\"1\" weight=\"regular\">{children}</Caption>;\n      }\n  }\n}\n\nfunction renderAside({ aside, platform }: { aside: HeaderProps['aside']; platform: PlatformType }) {\n  if (platform === Platform.VKCOM) {\n    return <Subhead weight=\"regular\" vkuiClass=\"Header__aside\">{aside}</Subhead>;\n  }\n  return <Text weight=\"regular\" vkuiClass=\"Header__aside\">{aside}</Text>;\n}\n\nconst Header: FunctionComponent<HeaderProps> = ({\n  mode,\n  children,\n  subtitle,\n  indicator,\n  aside,\n  getRootRef,\n  multiline,\n  ...restProps\n}: HeaderProps) => {\n  const platform = usePlatform();\n  const baseClassNames = getClassName('Header', platform);\n\n  return (\n    <div\n      {...restProps}\n      ref={getRootRef}\n      vkuiClass={classNames(baseClassNames, `Header--mode-${mode}`, {\n        'Header--pi': isPrimitiveReactNode(indicator),\n      })}\n    >\n      <div vkuiClass=\"Header__in\">\n        <div vkuiClass=\"Header__main\">\n          {renderChildren({\n            children: (\n              <Fragment>\n                <div vkuiClass={classNames('Header__content-base', {\n                  'Header__content-base--multiline': multiline,\n                })}>{children}</div>\n                {hasReactNode(indicator) && <Caption vkuiClass=\"Header__indicator\" weight=\"regular\" level=\"1\">{indicator}</Caption>}\n              </Fragment>\n            ),\n            platform,\n            mode,\n          })}\n          {hasReactNode(subtitle) && <Caption vkuiClass=\"Header__subtitle\" weight=\"regular\" level=\"1\">{subtitle}</Caption>}\n        </div>\n        {hasReactNode(aside) && renderAside({ aside, platform })}\n      </div>\n    </div>\n  );\n};\n\nHeader.defaultProps = {\n  mode: 'primary',\n};\n\nexport default Header;\n"],"file":"Header.js"}