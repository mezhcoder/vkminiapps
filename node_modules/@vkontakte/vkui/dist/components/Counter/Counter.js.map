{"version":3,"sources":["../../../src/components/Counter/Counter.tsx"],"names":["React","Children","classNames","getClassName","usePlatform","Caption","Text","VKCOM","hasReactNode","CounterTypography","size","children","restProps","platform","weight","Counter","props","mode","count","defaultProps","memo"],"mappings":";;;AAAA,OAAOA,KAAP,IAAoCC,QAApC,QAAoD,OAApD;AACA,SAASC,UAAT;AACA,SAASC,YAAT;AACA,SAASC,WAAT;AACA,OAAOC,OAAP;AACA,OAAOC,IAAP;AACA,SAASC,KAAT;AACA,SAASC,YAAT;;AAMA,IAAMC,iBAA6C,GAAG,SAAhDA,iBAAgD,OAA8D;AAAA,MAA3DC,IAA2D,QAA3DA,IAA2D;AAAA,MAArDC,QAAqD,QAArDA,QAAqD;AAAA,MAAxCC,SAAwC;;AAClH,MAAMC,QAAQ,GAAGT,WAAW,EAA5B;;AAEA,MAAIM,IAAI,KAAK,GAAb,EAAkB;AAChB,QAAMI,MAAM,GAAGD,QAAQ,KAAKN,KAAb,GAAqB,QAArB,GAAgC,SAA/C;AAEA,WAAO,oBAAC,OAAD;AAAS,MAAA,KAAK,EAAC,GAAf;AAAmB,MAAA,MAAM,EAAEO;AAA3B,OAAuCF,SAAvC,GAAmDD,QAAnD,CAAP;AACD;;AAED,SAAO,oBAAC,IAAD;AAAM,IAAA,MAAM,EAAC;AAAb,KAA0BC,SAA1B,GAAsCD,QAAtC,CAAP;AACD,CAVD;;AAoBA,IAAMI,OAAyB,GAAG,SAA5BA,OAA4B,CAACC,KAAD,EAAyB;AAAA,MACjDC,IADiD,GACVD,KADU,CACjDC,IADiD;AAAA,MAC3CP,IAD2C,GACVM,KADU,CAC3CN,IAD2C;AAAA,MACrCC,QADqC,GACVK,KADU,CACrCL,QADqC;AAAA,MACxBC,SADwB,4BACVI,KADU;;AAEzD,MAAMH,QAAQ,GAAGT,WAAW,EAA5B;;AAEA,MAAIH,QAAQ,CAACiB,KAAT,CAAeP,QAAf,MAA6B,CAAjC,EAAoC;AAClC,WAAO,IAAP;AACD;;AAED,SACE,wCACMC,SADN;AAEE,IAAA,SAAS,EAAEV,UAAU,CACnBC,YAAY,CAAC,SAAD,EAAYU,QAAZ,CADO,qBAEPI,IAFO,wBAGLP,IAHK;AAFvB,MAQGF,YAAY,CAACG,QAAD,CAAZ,IAA0B,oBAAC,iBAAD;AAAmB,IAAA,IAAI,EAAED,IAAzB;AAA+B,IAAA,SAAS,EAAC;AAAzC,KAAwDC,QAAxD,CAR7B,CADF;AAYD,CApBD;;AAsBAI,OAAO,CAACI,YAAR,GAAuB;AACrBF,EAAAA,IAAI,EAAE,WADe;AAErBP,EAAAA,IAAI,EAAE;AAFe,CAAvB;AAKA,4BAAeV,KAAK,CAACoB,IAAN,CAAWL,OAAX,CAAf","sourcesContent":["import React, { HTMLAttributes, FC, Children } from 'react';\nimport { classNames } from '../../lib/classNames';\nimport { getClassName } from '../../helpers/getClassName';\nimport { usePlatform } from '../../hooks/usePlatform';\nimport Caption from '../Typography/Caption/Caption';\nimport Text from '../Typography/Text/Text';\nimport { VKCOM } from '../../lib/platform';\nimport { hasReactNode } from '../../lib/utils';\n\ninterface CounterTypographyProps extends HTMLAttributes<HTMLDivElement> {\n  size: CounterProps['size'];\n}\n\nconst CounterTypography: FC<CounterTypographyProps> = ({ size, children, ...restProps }: CounterTypographyProps) => {\n  const platform = usePlatform();\n\n  if (size === 's') {\n    const weight = platform === VKCOM ? 'medium' : 'regular';\n\n    return <Caption level=\"2\" weight={weight} {...restProps}>{children}</Caption>;\n  }\n\n  return <Text weight=\"medium\" {...restProps}>{children}</Text>;\n};\n\nexport interface CounterProps extends HTMLAttributes<HTMLDivElement> {\n  /**\n   * Тип счетчика. При использовании компонента в качестве значения свойства `after` у `Button` эти значения игнорируются\n   */\n  mode?: 'secondary' | 'primary' | 'prominent';\n  size?: 's' | 'm';\n}\n\nconst Counter: FC<CounterProps> = (props: CounterProps) => {\n  const { mode, size, children, ...restProps } = props;\n  const platform = usePlatform();\n\n  if (Children.count(children) === 0) {\n    return null;\n  }\n\n  return (\n    <div\n      {...restProps}\n      vkuiClass={classNames(\n        getClassName('Counter', platform),\n        `Counter--${mode}`,\n        `Counter--s-${size}`,\n      )}\n    >\n      {hasReactNode(children) && <CounterTypography size={size} vkuiClass=\"Counter__in\">{children}</CounterTypography>}\n    </div>\n  );\n};\n\nCounter.defaultProps = {\n  mode: 'secondary',\n  size: 'm',\n};\n\nexport default React.memo(Counter);\n"],"file":"Counter.js"}