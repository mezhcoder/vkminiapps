{"version":3,"sources":["../../../src/components/PopoutRoot/PopoutRoot.tsx"],"names":["useEffect","withAdaptivity","ViewWidth","AppRootPortal","blurActiveElement","useDOM","PopoutRootComponent","props","popout","modal","viewWidth","children","getRootRef","restProps","document","isDesktop","TABLET","displayName","PopoutRoot"],"mappings":";;;AAAA,SAAwCA,SAAxC,QAAyD,OAAzD;AAEA,SAASC,cAAT,EAAyBC,SAAzB;AACA,SAASC,aAAT;AACA,SAASC,iBAAT,EAA4BC,MAA5B;AAOA,OAAO,IAAMC,mBAAwC,GAAG,SAA3CA,mBAA2C,CAACC,KAAD,EAA4B;AAAA,MAC1EC,MAD0E,GACTD,KADS,CAC1EC,MAD0E;AAAA,MAClEC,KADkE,GACTF,KADS,CAClEE,KADkE;AAAA,MAC3DC,SAD2D,GACTH,KADS,CAC3DG,SAD2D;AAAA,MAChDC,QADgD,GACTJ,KADS,CAChDI,QADgD;AAAA,MACtCC,UADsC,GACTL,KADS,CACtCK,UADsC;AAAA,MACvBC,SADuB,4BACTN,KADS;;AAAA,gBAE7DF,MAAM,EAFuD;AAAA,MAE1ES,QAF0E,WAE1EA,QAF0E;;AAIlF,MAAMC,SAAS,GAAGL,SAAS,IAAIR,SAAS,CAACc,MAAzC;AAEAhB,EAAAA,SAAS,CAAC,YAAM;AACdQ,IAAAA,MAAM,IAAIJ,iBAAiB,CAACU,QAAD,CAA3B;AACD,GAFQ,EAEN,CAAC,CAAC,CAACN,MAAH,CAFM,CAAT;AAIA,SACE,wCACMK,SADN;AAEE,IAAA,SAAS,EAAC,YAFZ;AAGE,IAAA,GAAG,EAAED;AAHP,MAKGD,QALH,EAME,oBAAC,aAAD,QACG,CAAC,CAACH,MAAF,IAAY;AAAK,IAAA,SAAS,EAAEO,SAAS,GAAG,sBAAH,GAA4B;AAArD,KAA4EP,MAA5E,CADf,EAEG,CAAC,CAACC,KAAF,IAAW;AAAK,IAAA,SAAS,EAAC;AAAf,KAAoCA,KAApC,CAFd,CANF,CADF;AAaD,CAvBM;AAyBPH,mBAAmB,CAACW,WAApB,GAAkC,YAAlC;AAEA,OAAO,IAAMC,UAAU,GAAGjB,cAAc,CAACK,mBAAD,EAAsB;AAC5DI,EAAAA,SAAS,EAAE;AADiD,CAAtB,CAAjC","sourcesContent":["import { FC, HTMLAttributes, ReactNode, useEffect } from 'react';\nimport { HasRootRef } from '../../types';\nimport { withAdaptivity, ViewWidth, AdaptivityProps } from '../../hoc/withAdaptivity';\nimport { AppRootPortal } from '../AppRoot/AppRootPortal';\nimport { blurActiveElement, useDOM } from '../../lib/dom';\n\nexport interface PopoutRootProps extends HTMLAttributes<HTMLDivElement>, AdaptivityProps, HasRootRef<HTMLDivElement> {\n  popout?: ReactNode;\n  modal?: ReactNode;\n}\n\nexport const PopoutRootComponent: FC<PopoutRootProps> = (props: PopoutRootProps) => {\n  const { popout, modal, viewWidth, children, getRootRef, ...restProps } = props;\n  const { document } = useDOM();\n\n  const isDesktop = viewWidth >= ViewWidth.TABLET;\n\n  useEffect(() => {\n    popout && blurActiveElement(document);\n  }, [!!popout]);\n\n  return (\n    <div\n      {...restProps}\n      vkuiClass=\"PopoutRoot\"\n      ref={getRootRef}\n    >\n      {children}\n      <AppRootPortal>\n        {!!popout && <div vkuiClass={isDesktop ? 'PopoutRoot--absolute' : 'PopoutRoot__popout'}>{popout}</div>}\n        {!!modal && <div vkuiClass=\"PopoutRoot__modal\">{modal}</div>}\n      </AppRootPortal>\n    </div>\n  );\n};\n\nPopoutRootComponent.displayName = 'PopoutRoot';\n\nexport const PopoutRoot = withAdaptivity(PopoutRootComponent, {\n  viewWidth: true,\n});\n"],"file":"PopoutRoot.js"}