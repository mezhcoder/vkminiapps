"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _jsxRuntime = require("../../lib/jsxRuntime");

var _extends2 = _interopRequireDefault(require("@babel/runtime/helpers/extends"));

var _objectWithoutProperties2 = _interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties"));

var _getClassName = require("../../helpers/getClassName");

var _classNames = require("../../lib/classNames");

var _usePlatform = require("../../hooks/usePlatform");

var Avatar = function Avatar(_ref) {
  var src = _ref.src,
      size = _ref.size,
      shadow = _ref.shadow,
      mode = _ref.mode,
      className = _ref.className,
      children = _ref.children,
      getRootRef = _ref.getRootRef,
      restProps = (0, _objectWithoutProperties2.default)(_ref, ["src", "size", "shadow", "mode", "className", "children", "getRootRef"]);
  var Component = src ? 'img' : 'div';
  var platform = (0, _usePlatform.usePlatform)();
  var borderRadius;

  switch (mode) {
    case 'default':
      borderRadius = '50%';
      break;

    case 'image':
      size < 64 && (borderRadius = 4);
      size >= 64 && size < 96 && (borderRadius = 6);
      size >= 96 && (borderRadius = 8);
      break;

    case 'app':
      size <= 40 && (borderRadius = 8);
      size > 40 && size < 56 && (borderRadius = 10);
      size >= 56 && size < 64 && (borderRadius = 12);
      size >= 64 && size < 84 && (borderRadius = 16);
      size >= 84 && (borderRadius = 18);
      break;
  }

  return (0, _jsxRuntime.createScopedElement)("div", {
    vkuiClass: (0, _classNames.classNames)((0, _getClassName.getClassName)('Avatar', platform), "Avatar--type-".concat(mode), "Avatar--sz-".concat(size)),
    className: className,
    ref: getRootRef
  }, (0, _jsxRuntime.createScopedElement)("div", {
    vkuiClass: "Avatar__in",
    style: {
      width: size,
      height: size,
      borderRadius: borderRadius
    }
  }, (0, _jsxRuntime.createScopedElement)(Component, (0, _extends2.default)({}, restProps, {
    vkuiClass: "Avatar__img",
    src: src
  })), shadow && (0, _jsxRuntime.createScopedElement)("span", {
    vkuiClass: "Avatar__shadow"
  }), children && (0, _jsxRuntime.createScopedElement)("div", {
    vkuiClass: "Avatar__children"
  }, children)));
};

Avatar.defaultProps = {
  size: 48,
  mode: 'default',
  shadow: true
};
var _default = Avatar;
exports.default = _default;
//# sourceMappingURL=Avatar.js.map