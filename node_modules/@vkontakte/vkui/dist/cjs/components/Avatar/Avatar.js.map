{"version":3,"sources":["../../../../src/components/Avatar/Avatar.tsx"],"names":["Avatar","src","size","shadow","mode","className","children","getRootRef","restProps","Component","platform","borderRadius","width","height","defaultProps"],"mappings":";;;;;;;;;;;;;;;AACA;;AACA;;AACA;;AAaA,IAAMA,MAAsC,GAAG,SAAzCA,MAAyC,OAS5B;AAAA,MARjBC,GAQiB,QARjBA,GAQiB;AAAA,MAPjBC,IAOiB,QAPjBA,IAOiB;AAAA,MANjBC,MAMiB,QANjBA,MAMiB;AAAA,MALjBC,IAKiB,QALjBA,IAKiB;AAAA,MAJjBC,SAIiB,QAJjBA,SAIiB;AAAA,MAHjBC,QAGiB,QAHjBA,QAGiB;AAAA,MAFjBC,UAEiB,QAFjBA,UAEiB;AAAA,MADdC,SACc;AACjB,MAAMC,SAAS,GAAGR,GAAG,GAAG,KAAH,GAAW,KAAhC;AACA,MAAMS,QAAQ,GAAG,+BAAjB;AACA,MAAIC,YAAJ;;AAEA,UAAQP,IAAR;AACE,SAAK,SAAL;AACEO,MAAAA,YAAY,GAAG,KAAf;AACA;;AACF,SAAK,OAAL;AACET,MAAAA,IAAI,GAAG,EAAP,KAAcS,YAAY,GAAG,CAA7B;AACAT,MAAAA,IAAI,IAAI,EAAR,IAAcA,IAAI,GAAG,EAArB,KAA4BS,YAAY,GAAG,CAA3C;AACAT,MAAAA,IAAI,IAAI,EAAR,KAAeS,YAAY,GAAG,CAA9B;AACA;;AACF,SAAK,KAAL;AACET,MAAAA,IAAI,IAAI,EAAR,KAAeS,YAAY,GAAG,CAA9B;AACAT,MAAAA,IAAI,GAAG,EAAP,IAAaA,IAAI,GAAG,EAApB,KAA2BS,YAAY,GAAG,EAA1C;AACAT,MAAAA,IAAI,IAAI,EAAR,IAAcA,IAAI,GAAG,EAArB,KAA4BS,YAAY,GAAG,EAA3C;AACAT,MAAAA,IAAI,IAAI,EAAR,IAAcA,IAAI,GAAG,EAArB,KAA4BS,YAAY,GAAG,EAA3C;AACAT,MAAAA,IAAI,IAAI,EAAR,KAAeS,YAAY,GAAG,EAA9B;AACA;AAfJ;;AAkBA,SACE;AACE,IAAA,SAAS,EAAE,4BAAW,gCAAa,QAAb,EAAuBD,QAAvB,CAAX,yBAA6DN,IAA7D,wBAAmFF,IAAnF,EADb;AAEE,IAAA,SAAS,EAAEG,SAFb;AAGE,IAAA,GAAG,EAAEE;AAHP,KAKE;AAAK,IAAA,SAAS,EAAC,YAAf;AAA4B,IAAA,KAAK,EAAE;AAAEK,MAAAA,KAAK,EAAEV,IAAT;AAAeW,MAAAA,MAAM,EAAEX,IAAvB;AAA6BS,MAAAA,YAAY,EAAZA;AAA7B;AAAnC,KACE,qCAAC,SAAD,6BACMH,SADN;AAEE,IAAA,SAAS,EAAC,aAFZ;AAGE,IAAA,GAAG,EAAEP;AAHP,KADF,EAMGE,MAAM,IAAI;AAAM,IAAA,SAAS,EAAC;AAAhB,IANb,EAOGG,QAAQ,IAAI;AAAK,IAAA,SAAS,EAAC;AAAf,KAAmCA,QAAnC,CAPf,CALF,CADF;AAiBD,CAjDD;;AAmDAN,MAAM,CAACc,YAAP,GAAsB;AACpBZ,EAAAA,IAAI,EAAE,EADc;AAEpBE,EAAAA,IAAI,EAAE,SAFc;AAGpBD,EAAAA,MAAM,EAAE;AAHY,CAAtB;eAMeH,M","sourcesContent":["import { FunctionComponent, ImgHTMLAttributes } from 'react';\nimport { getClassName } from '../../helpers/getClassName';\nimport { classNames } from '../../lib/classNames';\nimport { usePlatform } from '../../hooks/usePlatform';\nimport { HasRootRef } from '../../types';\n\nexport interface AvatarProps extends ImgHTMLAttributes<HTMLElement>, HasRootRef<HTMLDivElement> {\n  /**\n   * Рекомендуемый сет значений: 96 | 88 | 80 | 72 | 64 | 56 | 48 | 44 | 40 | 36 | 32 | 28 | 24\n   */\n  size?: number;\n  src?: string;\n  mode?: 'default' | 'image' | 'app';\n  shadow?: boolean;\n}\n\nconst Avatar: FunctionComponent<AvatarProps> = ({\n  src,\n  size,\n  shadow,\n  mode,\n  className,\n  children,\n  getRootRef,\n  ...restProps\n}: AvatarProps) => {\n  const Component = src ? 'img' : 'div';\n  const platform = usePlatform();\n  let borderRadius;\n\n  switch (mode) {\n    case 'default':\n      borderRadius = '50%';\n      break;\n    case 'image':\n      size < 64 && (borderRadius = 4);\n      size >= 64 && size < 96 && (borderRadius = 6);\n      size >= 96 && (borderRadius = 8);\n      break;\n    case 'app':\n      size <= 40 && (borderRadius = 8);\n      size > 40 && size < 56 && (borderRadius = 10);\n      size >= 56 && size < 64 && (borderRadius = 12);\n      size >= 64 && size < 84 && (borderRadius = 16);\n      size >= 84 && (borderRadius = 18);\n      break;\n  }\n\n  return (\n    <div\n      vkuiClass={classNames(getClassName('Avatar', platform), `Avatar--type-${mode}`, `Avatar--sz-${size}`)}\n      className={className}\n      ref={getRootRef}\n    >\n      <div vkuiClass=\"Avatar__in\" style={{ width: size, height: size, borderRadius }}>\n        <Component\n          {...restProps}\n          vkuiClass=\"Avatar__img\"\n          src={src}\n        />\n        {shadow && <span vkuiClass=\"Avatar__shadow\" />}\n        {children && <div vkuiClass=\"Avatar__children\">{children}</div>}\n      </div>\n    </div>\n  );\n};\n\nAvatar.defaultProps = {\n  size: 48,\n  mode: 'default',\n  shadow: true,\n};\n\nexport default Avatar;\n"],"file":"Avatar.js"}