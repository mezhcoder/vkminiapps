"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _extends2 = _interopRequireDefault(require("@babel/runtime/helpers/extends"));

var _objectWithoutProperties2 = _interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties"));

var _jsxRuntime = require("../../lib/jsxRuntime");

var _react = require("react");

var _getClassName = require("../../helpers/getClassName");

var _classNames = require("../../lib/classNames");

var _usePlatform = require("../../hooks/usePlatform");

var _utils = require("../../lib/utils");

var _platform = require("../../lib/platform");

var _Headline = _interopRequireDefault(require("../Typography/Headline/Headline"));

var _Caption = _interopRequireDefault(require("../Typography/Caption/Caption"));

var _Title = _interopRequireDefault(require("../Typography/Title/Title"));

var _Text = _interopRequireDefault(require("../Typography/Text/Text"));

var _Subhead = _interopRequireDefault(require("../Typography/Subhead/Subhead"));

function renderChildren(_ref) {
  var children = _ref.children,
      platform = _ref.platform,
      mode = _ref.mode;

  switch (platform) {
    case _platform.Platform.ANDROID:
      switch (mode) {
        case 'primary':
          return (0, _jsxRuntime.createScopedElement)(_Headline.default, {
            vkuiClass: "Header__content",
            weight: "medium"
          }, children);

        case 'secondary':
          return (0, _jsxRuntime.createScopedElement)(_Caption.default, {
            vkuiClass: "Header__content",
            level: "1",
            weight: "medium",
            caps: true
          }, children);

        case 'tertiary':
          return (0, _jsxRuntime.createScopedElement)(_Headline.default, {
            vkuiClass: "Header__content",
            weight: "medium"
          }, children);
      }

      break;

    case _platform.Platform.IOS:
      switch (mode) {
        case 'primary':
        case 'tertiary':
          return (0, _jsxRuntime.createScopedElement)(_Title.default, {
            vkuiClass: "Header__content",
            weight: "semibold",
            level: "3"
          }, children);

        case 'secondary':
          return (0, _jsxRuntime.createScopedElement)(_Caption.default, {
            vkuiClass: "Header__content",
            level: "1",
            weight: "semibold",
            caps: true
          }, children);
      }

      break;

    case _platform.Platform.VKCOM:
      switch (mode) {
        case 'primary':
          return (0, _jsxRuntime.createScopedElement)(_Headline.default, {
            vkuiClass: "Header__content",
            weight: "regular"
          }, children);

        case 'secondary':
        case 'tertiary':
          return (0, _jsxRuntime.createScopedElement)(_Caption.default, {
            vkuiClass: "Header__content",
            level: "1",
            weight: "regular"
          }, children);
      }

  }
}

function renderAside(_ref2) {
  var aside = _ref2.aside,
      platform = _ref2.platform;

  if (platform === _platform.Platform.VKCOM) {
    return (0, _jsxRuntime.createScopedElement)(_Subhead.default, {
      weight: "regular",
      vkuiClass: "Header__aside"
    }, aside);
  }

  return (0, _jsxRuntime.createScopedElement)(_Text.default, {
    weight: "regular",
    vkuiClass: "Header__aside"
  }, aside);
}

var Header = function Header(_ref3) {
  var mode = _ref3.mode,
      children = _ref3.children,
      subtitle = _ref3.subtitle,
      indicator = _ref3.indicator,
      aside = _ref3.aside,
      getRootRef = _ref3.getRootRef,
      multiline = _ref3.multiline,
      restProps = (0, _objectWithoutProperties2.default)(_ref3, ["mode", "children", "subtitle", "indicator", "aside", "getRootRef", "multiline"]);
  var platform = (0, _usePlatform.usePlatform)();
  var baseClassNames = (0, _getClassName.getClassName)('Header', platform);
  return (0, _jsxRuntime.createScopedElement)("div", (0, _extends2.default)({}, restProps, {
    ref: getRootRef,
    vkuiClass: (0, _classNames.classNames)(baseClassNames, "Header--mode-".concat(mode), {
      'Header--pi': (0, _utils.isPrimitiveReactNode)(indicator)
    })
  }), (0, _jsxRuntime.createScopedElement)("div", {
    vkuiClass: "Header__in"
  }, (0, _jsxRuntime.createScopedElement)("div", {
    vkuiClass: "Header__main"
  }, renderChildren({
    children: (0, _jsxRuntime.createScopedElement)(_react.Fragment, null, (0, _jsxRuntime.createScopedElement)("div", {
      vkuiClass: (0, _classNames.classNames)('Header__content-base', {
        'Header__content-base--multiline': multiline
      })
    }, children), (0, _utils.hasReactNode)(indicator) && (0, _jsxRuntime.createScopedElement)(_Caption.default, {
      vkuiClass: "Header__indicator",
      weight: "regular",
      level: "1"
    }, indicator)),
    platform: platform,
    mode: mode
  }), (0, _utils.hasReactNode)(subtitle) && (0, _jsxRuntime.createScopedElement)(_Caption.default, {
    vkuiClass: "Header__subtitle",
    weight: "regular",
    level: "1"
  }, subtitle)), (0, _utils.hasReactNode)(aside) && renderAside({
    aside: aside,
    platform: platform
  })));
};

Header.defaultProps = {
  mode: 'primary'
};
var _default = Header;
exports.default = _default;
//# sourceMappingURL=Header.js.map