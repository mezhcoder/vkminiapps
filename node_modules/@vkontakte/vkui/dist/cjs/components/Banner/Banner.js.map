{"version":3,"sources":["../../../../src/components/Banner/Banner.tsx"],"names":["renderHeader","size","header","renderSubheader","subheader","Banner","props","platform","mode","imageTheme","before","asideMode","text","children","background","actions","onDismiss","restProps","InnerComponent","Tappable","innerProps","activeMode","IOS","Children","count","ANDROID","VKCOM","defaultProps"],"mappings":"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","sourcesContent":["import { Children, FunctionComponent, ReactNode, HTMLAttributes, MouseEventHandler } from 'react';\nimport { getClassName } from '../../helpers/getClassName';\nimport { classNames } from '../../lib/classNames';\nimport { usePlatform } from '../../hooks/usePlatform';\nimport { ANDROID, IOS, VKCOM } from '../../lib/platform';\nimport { Icon24Chevron, Icon24DismissSubstract, Icon24DismissDark, Icon24Cancel } from '@vkontakte/icons';\nimport Tappable from '../Tappable/Tappable';\nimport Headline from '../Typography/Headline/Headline';\nimport Caption from '../Typography/Caption/Caption';\nimport Text from '../Typography/Text/Text';\nimport { hasReactNode } from '../../lib/utils';\nimport Title from '../Typography/Title/Title';\n\nexport interface BannerProps extends HTMLAttributes<HTMLDivElement> {\n  /**\n   * Тип баннера.\n   */\n  mode?: 'tint' | 'image';\n  size?: 's' | 'm';\n  /**\n   * Тип действия в правой части баннера.\n   *\n   * - `dismiss` – отображается иконка крестика, при клике на неё сработает свойство `onDismiss`.\n   * - `expand` – отображается иконка шеврона, которая подразумевает, что при клике на баннер можно куда-то перейти.\n   */\n  asideMode?: 'dismiss' | 'expand';\n  /**\n   * Срабатывает при клике на иконку крестика при `asideMode=\"dismiss\"`.\n   */\n  onDismiss?: MouseEventHandler<HTMLDivElement>;\n  /**\n   * Содержимое, отображаемое в левой части баннера.\n   */\n  before?: ReactNode;\n  /**\n   * Заголовок. <br />\n   * При использовании этого свойства рекомендуется не указывать `text`.\n   */\n  header?: ReactNode;\n  /**\n   * Подзаголовок. <br />\n   * При использовании этого свойства рекомендуется не указывать `text`.\n   */\n  subheader?: ReactNode;\n  /**\n   * Текст баннера. <br />\n   * Это свойство следует использовать без указания `header` и `subheader`.\n   */\n  text?: ReactNode;\n  /**\n   * При использовании `mode=\"image\"`.\n   *\n   * - `light` – в качестве фона используется светлое изображение, цвет текста в баннере будет тёмным.\n   * - `dark` – в качестве фона используется тёмное изображение, цвет текста будет светлым.\n   */\n  imageTheme?: 'light' | 'dark';\n  /**\n   * При использовании `mode=\"image\"`.\n   *\n   * Элемент, который нужно стилизовать цветом и/или фоном. Этот элемент будет растянут на 100% ширины и высоты баннера.\n   */\n  background?: ReactNode;\n  /**\n   * Кнопки, отображаемые в баннере.\n   *\n   * - В режиме `tint` или в `image` со светлым фоном рекомендуется использовать только `<Button mode=\"primary\" />` или `<Button mode=\"tertiary\" hasHover={false} />`.\n   * - В режиме `image` с тёмным фоном – `<Button mode=\"overlay_primary\" />`.\n   */\n  actions?: ReactNode;\n}\n\nfunction renderHeader({ size, header }: Pick<BannerProps, 'size' | 'header'>) {\n  switch (size) {\n    case 's':\n      return <Headline weight=\"medium\" vkuiClass=\"Banner__header\">{header}</Headline>;\n    case 'm':\n      return <Title level=\"2\" weight=\"medium\" vkuiClass=\"Banner__header\">{header}</Title>;\n  }\n}\n\nfunction renderSubheader({ size, subheader }: Pick<BannerProps, 'size' | 'subheader'>) {\n  switch (size) {\n    case 's':\n      return <Caption level=\"1\" weight=\"regular\" vkuiClass=\"Banner__subheader\">{subheader}</Caption>;\n    case 'm':\n      return <Text weight=\"regular\" vkuiClass=\"Banner__subheader\">{subheader}</Text>;\n  }\n}\n\nconst Banner: FunctionComponent<BannerProps> = (props: BannerProps) => {\n  const platform = usePlatform();\n  const {\n    mode, imageTheme, size, before, asideMode, header, subheader, text, children, background, actions,\n    onDismiss,\n    ...restProps\n  } = props;\n\n  const InnerComponent = asideMode === 'expand' ? Tappable : 'div';\n  const innerProps = asideMode === 'expand' ? {\n    activeMode: platform === IOS ? 'opacity' : 'background',\n  } : {};\n\n  return (\n    <div\n      {...restProps}\n      vkuiClass={classNames(\n        getClassName('Banner', platform),\n        `Banner--md-${mode}`,\n        `Banner--sz-${size}`, {\n          'Banner--inverted': mode === 'image' && imageTheme === 'dark',\n        },\n      )}\n    >\n      <InnerComponent vkuiClass=\"Banner__in\" {...innerProps}>\n        {mode === 'image' && background &&\n        <div vkuiClass=\"Banner__bg\">\n          {background}\n        </div>\n        }\n\n        {before && <div vkuiClass=\"Banner__before\">{before}</div>}\n\n        <div vkuiClass=\"Banner__content\">\n          {hasReactNode(header) && renderHeader({ size, header })}\n          {hasReactNode(subheader) && renderSubheader({ size, subheader })}\n          {hasReactNode(text) && <Text weight=\"regular\" vkuiClass=\"Banner__text\">{text}</Text>}\n          {hasReactNode(actions) && Children.count(actions) > 0 &&\n          <div vkuiClass=\"Banner__actions\">{actions}</div>\n          }\n        </div>\n\n        {asideMode === 'expand' &&\n        <div vkuiClass=\"Banner__expand\">\n          <Icon24Chevron />\n        </div>\n        }\n\n        {asideMode === 'dismiss' &&\n        <div vkuiClass=\"Banner__dismiss\">\n          <div vkuiClass=\"Banner__dismissIcon\" onClick={onDismiss}>\n            {(platform === ANDROID || platform === VKCOM) && <Icon24Cancel />}\n            {platform === IOS && (mode === 'image' ? <Icon24DismissDark /> : <Icon24DismissSubstract />)}\n          </div>\n        </div>\n        }\n      </InnerComponent>\n    </div>\n  );\n};\n\nBanner.defaultProps = {\n  mode: 'tint',\n  size: 's',\n  imageTheme: 'dark',\n};\n\nexport default Banner;\n"],"file":"Banner.js"}